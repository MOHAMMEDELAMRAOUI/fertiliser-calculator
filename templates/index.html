<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Optimiseur de Formulation d'Engrais</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ§ª Optimiseur de Formulation d'Engrais</h1>
            <p>Calculez automatiquement les quantitÃ©s optimales d'ingrÃ©dients pour atteindre vos objectifs de composition</p>
        </header>

        <main>
            <!-- Section des objectifs -->
            <section class="objectives-section">
                <h2>ðŸ“Š Objectifs de Composition</h2>
                <div class="objectives-grid">
                    <div class="input-group">
                        <label for="target-n">N (%)</label>
                        <input type="number" id="target-n" step="0.1" min="0" max="100" value="10.0">
                    </div>
                    <div class="input-group">
                        <label for="target-p2o5">Pâ‚‚Oâ‚… (%)</label>
                        <input type="number" id="target-p2o5" step="0.1" min="0" max="100" value="20.0">
                    </div>
                    <div class="input-group">
                        <label for="target-k2o">Kâ‚‚O (%)</label>
                        <input type="number" id="target-k2o" step="0.1" min="0" max="100" value="10.0">
                    </div>
                    <div class="input-group">
                        <label for="target-s">S (%)</label>
                        <input type="number" id="target-s" step="0.1" min="0" max="100" value="5.0">
                    </div>
                </div>
            </section>

            <!-- Section des ingrÃ©dients -->
            <section class="ingredients-section">
                <h2>ðŸ§¬ SÃ©lection des IngrÃ©dients</h2>
                <div class="ingredients-container" id="ingredients-container">
                    <!-- Les ingrÃ©dients seront chargÃ©s dynamiquement --> 
                </div>
            </section>

            <!-- Bouton d'optimisation -->
            <section class="action-section">
                <button id="optimize-btn" class="optimize-btn">
                    <span class="btn-text">ðŸš€ Lancer l'Optimisation</span>
                    <div class="loading-spinner" style="display: none;"></div>
                </button>
            </section>

            <!-- Section des rÃ©sultats -->
            <section class="results-section" id="results-section" style="display: none;">
                <h2>ðŸ“ˆ RÃ©sultats de l'Optimisation</h2>
                
                <!-- Composition obtenue vs objectifs -->
                <div class="composition-comparison">
                    <h3>Composition Finale</h3>
                    <div class="comparison-grid" id="composition-grid">
                        <!-- Sera rempli dynamiquement -->
                    </div>
                </div>

                <!-- Tableau des quantitÃ©s -->
                <div class="quantities-table-container">
                    <h3>QuantitÃ©s Optimales</h3>
                    <table class="quantities-table" id="quantities-table">
                        <thead>
                            <tr>
                                <th>IngrÃ©dient</th>
                                <th>Code</th>
                                <th>QuantitÃ©</th>
                                <th>N (%)</th>
                                <th>Pâ‚‚Oâ‚… (%)</th>
                                <th>Kâ‚‚O (%)</th>
                                <th>S (%)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Sera rempli dynamiquement -->
                        </tbody>
                    </table>
                </div>

                <!-- Actions sur les rÃ©sultats -->
                <div class="results-actions">
                    <button id="export-pdf-btn" class="secondary-btn">ðŸ“„ Exporter en PDF</button>
                    <button id="new-calculation-btn" class="secondary-btn">ðŸ”„ Nouveau Calcul</button>
                </div>
            </section>
        </main>

        <!-- Messages d'erreur -->
        <div id="error-message" class="error-message" style="display: none;"></div>

        <!-- Messages de succÃ¨s -->
        <div id="success-message" class="success-message" style="display: none;"></div>
    </div>

    <script src="script.js"></script>
</body>
</html>